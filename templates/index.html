<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Svara | SAP Inventory Website</title>
    <style>
        body { font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif; background-color: #f0f2f5; margin: 0; padding: 40px; }
        .container { max-width: 1000px; margin: auto; background: white; padding: 25px; border-radius: 12px; box-shadow: 0 10px 25px rgba(0,0,0,0.1); }
        h1 { color: #1a237e; border-bottom: 3px solid #1a237e; display: inline-block; padding-bottom: 10px; }
        
        /* Table Styling */
        table { width: 100%; border-collapse: collapse; margin-top: 20px; }
        th, td { padding: 15px; text-align: left; border-bottom: 1px solid #ddd; }
        th { background-color: #1a237e; color: white; }
        .low-stock { color: #d32f2f; font-weight: bold; background-color: #ffebee; }
        .status-badge { padding: 5px 10px; border-radius: 20px; font-size: 12px; }
        .ok { background: #c8e6c9; color: #2e7d32; }
        .warning { background: #ffcdd2; color: #c62828; }

        /* Form Styling */
        .action-sections { display: grid; grid-template-columns: 1fr 1fr; gap: 20px; margin-top: 30px; }
        .card { border: 1px solid #e0e0e0; padding: 15px; border-radius: 8px; }
        input { width: 90%; padding: 10px; margin: 5px 0; border: 1px solid #ccc; border-radius: 4px; }
        button { width: 100%; padding: 12px; border: none; border-radius: 4px; color: white; cursor: pointer; font-weight: bold; }
        .btn-green { background-color: #2e7d32; }
        .btn-orange { background-color: #ef6c00; }
        .btn-red { background-color: #c62828; margin-top: 20px; }
    </style>
</head>
<body>

<div class="container">
    <h1>üì¶ Warehouse Stock Ledger</h1>

    <table>
        <thead>
            <tr>
                <th>Product Description</th>
                <th>Quantity (Transaction)</th>
                <th>Price (‚Çπ)</th>
                <th>Inventory Status</th>
            </tr>
        </thead>
        <tbody>
            {% for p in products %}
            <tr class="{{ 'low-stock' if p['quantity'] <= p['threshold'] else '' }}">
                <td>{{ p['name'] }}</td>
                <td>{{ p['quantity'] }}</td>
                <td>{{ p['price'] }}</td>
                <td>
                    {% if p['quantity'] <= p['threshold'] %}
                        <span class="status-badge warning">‚ö†Ô∏è LOW STOCK</span>
                    {% else %}
                        <span class="status-badge ok">‚úÖ STABLE</span>
                    {% endif %}
                </td>
            </tr>
            {% endfor %}
        </tbody>
    </table>

    <div class="action-sections">
        <div class="card">
            <h3>‚ûï Goods Receipt (Stock In)</h3>
            <form action="/add" method="POST">
                <input type="text" name="name" placeholder="Item Name" required>
                <input type="number" name="qty" placeholder="Quantity" required>
                <input type="number" step="0.01" name="price" placeholder="Price" required>
                <button type="submit" class="btn-green">Post Goods Receipt</button>
            </form>
        </div>

        <div class="card">
            <h3>‚ûñ Goods Issue (Stock Out)</h3>
            <form action="/remove" method="POST">
                <input type="text" name="name" placeholder="Item Name" required>
                <input type="number" name="qty" placeholder="Quantity to Remove" required>
                <input type="number" step="0.01" name="price" placeholder="Price" required>
                <button type="submit" class="btn-orange">Post Goods Issue</button>
            </form>
        </div>
    </div>

    <form action="/clean" method="POST" onsubmit="return confirm('Factory Reset: Are you sure?')">
        <button type="submit" class="btn-red">‚ö†Ô∏è RE-INITIALIZE DATABASE</button>
    </form>
</div>

</body>
</html>